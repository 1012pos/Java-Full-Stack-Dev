20240617
1. C:\IDE\sts-4.22.1.RELEASE\work\git
: 강사님 github 파일

2. github 하는 방법 및 clone 해서 프로젝트 여러개 하는 방법 공부하기

3. 커머스 회사
AS-IS, TO-BE

4. AS-IS -> TO-BE를 만들어야 한다.

5. 현행 시스템 분석하기
: AS-IS

6. 요구사항 확인하기
: TO-BE

7. 이번주 목요일 1~2장 발표

8. 분석 클래스 목록 (요구사항 확인)

9. Maven 

10. AbstractAnnotationConfigDispatcherServletInitializer 이거를 상속받으면 web.xml을 만들지 않아도 사용가능
WebConfig.java 파일

package app.config;

import org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;

public class WebConfig extends AbstractAnnotationConfigDispatcherServletInitializer {

	@Override
	protected Class<?>[] getRootConfigClasses() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	protected Class<?>[] getServletConfigClasses() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	protected String[] getServletMappings() {
		// TODO Auto-generated method stub
		return null;
	}

}

11. src -> main -> webapp-> WEB-INF -> web.xml 파일의 코드에서 <context-param> 이부분이랑 같은 맥략은 아래와 같다.
: @Override
	protected Class<?>[] getRootConfigClasses() {
		return null; // 외부 설정 내용 등록(Mybatis)
	}
	
12. src -> main -> webapp -> WEB-INF -> web.xml 파일의 코드에서 <servlet> 이부분이랑 같은 맥략은 아래와 같다.
: @Override
	protected Class<?>[] getServletConfigClasses() {
		return null; // 스프링 관련 설정 내용 등록
	}	
 
 
 13. src -> main -> webapp-> WEB-INF -> web.xml 파일의 코드에서 <servlet-mapping> 이부분이랑 같은 맥략은 아래와 같다.
 : @Override
	protected String[] getServletMappings() {
		return null; // URL 패턴 등록
	}

14. http://localhost:8080/SpringStudy2/
: 안녕이 떠야함.

15. servlet-context.xml에서 beans:beans에서 엑박 뜨면 아래와 같이 해결해주면 된다.
: window -> Preferences -> XML(Wild Web Developer) 여기서 체크해줘야함

16. WEB-INF 밑에 web.xml 파일을 만들지 않기 위해 위의 내용들을 한것이다.

17. SpringConfig.java 파일에 있는 코드 때문에 -> HomeController.java에 있는 코드를 사용할 수 있다.

18. /WEB-INF 하위 파일들을 만드는 이유는 원래부터 하위 파일들을 접근할수 없게 설정되어 있기 때문이며,
JSP파일을 직접적으로 부를수 없게 할수 있는 방법이 이 방법뿐이다. 그렇기 때문에 URL을 통해 접근할수가 없다.
그리고 Spring에서 ViewResolver를 사용하기 위함도 있으며 화면을 출력용을 만들기 위해서이다.
@Override
	public void configureViewResolvers(ViewResolverRegistry registry) {
		InternalResourceViewResolver ivs = new InternalResourceViewResolver();
		ivs.setPrefix("/WEB-INF/views/");
		ivs.setSuffix(".jsp");
		registry.viewResolver(ivs);
	
	}
	
package app.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;

@Controller
public class HomeController {

	@GetMapping("/")
	public String home() {
		return "home";
	}
	
}

: /WEB-INF/views/  +   ? 가변적(ex, home)+ .jsp
-> /WEB-INF/views/  +    home)+ .jsp
따라서 위의 적은 코드 처럼 조합이 될수 있는게 있는게, "Spring의 ViewResolver"가 해준다.

19. Spring은 MVC2 이다. / Controller + view를 함께 한게 MVC1 모델이다.

20. Service영역, DAO영역, Domain영역이 Model이라고한다.

21. @Controller -> @Service -> @Repository

22. 



package app.config;

import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.servlet.config.annotation.EnableWebMvc;
import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;
import org.springframework.web.servlet.config.annotation.ViewResolverRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;
import org.springframework.web.servlet.view.InternalResourceViewResolver;


@Configuration
@EnableWebMvc
@ComponentScan(basePackages = {"app"})
public class SpringConfig implements WebMvcConfigurer {

	@Override
	public void configureViewResolvers(ViewResolverRegistry registry) {
		InternalResourceViewResolver ivs = new InternalResourceViewResolver();
		ivs.setPrefix("/WEB-INF/views/");
		ivs.setSuffix(".jsp");
		registry.viewResolver(ivs);
	
	}

	@Override
	public void addResourceHandlers(ResourceHandlerRegistry registry) {
		registry.addResourceHandler("/resources/**").addResourceLocations("/resources/");
	}

	
	
	
}


package app.config;

import org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;

public class WebConfig extends AbstractAnnotationConfigDispatcherServletInitializer {

	@Override
	protected Class<?>[] getRootConfigClasses() {
		return null; // 외부 설정 내용 등록(Mybatis)
	}

	@Override
	protected Class<?>[] getServletConfigClasses() {
		return new Class[] {SpringConfig.class}; // 스프링 관련 설정 내용 등록
	}

	@Override
	protected String[] getServletMappings() {
		return new String[] {"/"}; // URL 패턴 등록
	}

}



<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>app</groupId>
  <artifactId>SpringStudy2</artifactId>
  <version>1</version>
  <packaging>war</packaging>
  <name>SpringStudy2</name>
  
  <properties>
	<encoding-type>UTF-8</encoding-type>
	<java-version>11</java-version>
	<org.springframework-version>5.3.36</org.springframework-version>
  </properties>

  <dependencies>
	
	<dependency>
	    <groupId>javax.servlet</groupId>
	    <artifactId>servlet-api</artifactId>
	    <version>2.5</version>
	    <scope>provided</scope>
	</dependency>
	

	<dependency>
	    <groupId>org.springframework</groupId>
	    <artifactId>spring-core</artifactId>
	    <version>${org.springframework-version}</version>
	</dependency>
	<dependency>
	    <groupId>org.springframework</groupId>
	    <artifactId>spring-context</artifactId>
	    <version>${org.springframework-version}</version>
	</dependency>
	<dependency>
	    <groupId>org.springframework</groupId>
	    <artifactId>spring-webmvc</artifactId>
	    <version>${org.springframework-version}</version>
	</dependency>
	<dependency>
	    <groupId>org.springframework</groupId>
	    <artifactId>spring-jdbc</artifactId>
	    <version>${org.springframework-version}</version>
	</dependency>
	<dependency>
	    <groupId>org.springframework</groupId>
	    <artifactId>spring-tx</artifactId>
	    <version>${org.springframework-version}</version>
	</dependency>
	<dependency>
	    <groupId>org.springframework</groupId>
	    <artifactId>spring-test</artifactId>
	    <version>${org.springframework-version}</version>
	</dependency>


	<dependency>
	    <groupId>org.mariadb.jdbc</groupId>
	    <artifactId>mariadb-java-client</artifactId>
	    <version>3.4.0</version>
	</dependency>
	<dependency>
	    <groupId>org.mybatis</groupId>
	    <artifactId>mybatis</artifactId>
	    <version>3.5.16</version>
	</dependency>
	<dependency>
	    <groupId>org.mybatis</groupId>
	    <artifactId>mybatis-spring</artifactId>
	    <version>3.0.3</version>
	</dependency>

  </dependencies>
  
   <build>
        <plugins>
	        <plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-war-plugin</artifactId>
				<version>3.3.2</version>
				<configuration>
					<failOnMissingWebXml>false</failOnMissingWebXml>
				</configuration>
			</plugin>
            <plugin>
                <artifactId>maven-eclipse-plugin</artifactId>
                <version>2.9</version>
                <configuration>
                    <additionalProjectnatures>
                        <projectnature>org.springframework.ide.eclipse.core.springnature</projectnature>
                    </additionalProjectnatures>
                    <additionalBuildcommands>
                        <buildcommand>org.springframework.ide.eclipse.core.springbuilder</buildcommand>
                    </additionalBuildcommands>
                    <downloadSources>true</downloadSources>
                    <downloadJavadocs>true</downloadJavadocs>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>2.5.1</version>
                <configuration>
                    <source>${java-version}</source>
                    <target>${java-version}</target>
                    <compilerArgument>-Xlint:all</compilerArgument>
                    <showWarnings>true</showWarnings>
                    <showDeprecation>true</showDeprecation>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>exec-maven-plugin</artifactId>
                <version>1.2.1</version>
                <configuration>
                    <mainClass>org.test.int1.Main</mainClass>
                </configuration>
            </plugin>
        </plugins>
  </build>
  
  
  
  
</project>




package app.controller;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;

@Controller
public class HomeController {

	@GetMapping("/") // 화면 출력용
	public String home(Model model) {
		model.addAttribute("name", "홍길동");
		return "home";
	}
	
}



<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>HOME</title>
</head>
<body>
 <h1>안녕</h1>
 <%
 	Object obj = request.getAttribute("name");
 	out.println(obj);
 %>
</body>
</html>


====================================================================
<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>HOME</title>
</head>
<body>
 <h1>안녕</h1>
 <%
 	Object obj = request.getAttribute("name");
 	out.println(obj);
 %>
 
 <p>${name}</p> <!-- 위의 코드로 작성하면 불편해서 ${name}식으로 표현식을 사용(데이터 출력용)  -->
 
</body>
</html>
====================================================================


